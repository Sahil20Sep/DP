#include <bits/stdc++.h>

int longestIncreasingSubsequence(int arr[], int n) {
  set<int> ms;
  for (int i = 0; i < n; i++){
        if(ms.empty() || arr[i] > (*(--ms.end()))){
            ms.insert(arr[i]);
        }else{
            auto just = ms.lower_bound(arr[i]);
            ms.erase(ms.find(*just));
            ms.insert(arr[i]);
        }
    }
    return (int)ms.size();
}

---------------------------------------------------------------------------------------
